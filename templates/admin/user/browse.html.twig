{% extends 'admin/base.html.twig' %}

{% block title %}{{ parent() }}Utilisateur{% endblock %}

{% block body %}
<div class="row">
    <h2 class="page__title mt-3">Liste des Utilisateurs</h1>
</div>
<div class="row">
    <a href="{{ path('admin_user_add') }}" class="btn btn-outline-success mt-3">Ajouter un Utilisateur</a>
</div>

<table class="table table-hover mt-3">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Nom d'utilisateur</th>
      <th scope="col">Email</th>
      <th scope="col">Rôle</th>
      <th scope="col">Date de création</th>
      <th scope="col">Date de mise à jour</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <th scope="row">{{user.id}}</th>
      <td>{{user.username}}</td>
      <td>{{user.email}}</td>
      <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
      <td>{{user.createdAt|date('d-m-Y H:i') }}</td>
      <td>{{user.updatedAt is not null ? user.updatedAt|date('d-m-Y H:i')}}</td>
      <td><a href="{{ path('admin_user_edit', {'id': user.id}) }}">Modifier</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table> 
{% endblock %}
